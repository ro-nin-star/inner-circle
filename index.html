<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfect Circle - Rajzolj TÃ¶kÃ©letes KÃ¶rt!</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- DekoratÃ­v kÃ¶rÃ¶k -->
    <div class="decoration-circle"></div>
    <div class="decoration-circle"></div>
    <div class="decoration-circle"></div>

    <!-- Firebase status indicator -->
    <div class="firebase-status connecting" id="firebaseStatus" onclick="showFirebaseInfo()">ğŸŸ¡ Connecting...</div>

    <div class="game-container" id="gameContainer">
        <!-- Language selector script-ek hozzÃ¡adÃ¡sa a head-ben -->
        <script src="js/i18n/languageDetector.js"></script>
        <script src="js/i18n/i18nManager.js"></script>

        <!-- HTML elemek data-i18n attribÃºtumokkal -->
        <h1 data-i18n="title">ğŸ¯ Perfect Circle</h1>
        <p class="subtitle" data-i18n="subtitle">Rajzolj a lehetÅ‘ legtÃ¶kÃ©letesebb kÃ¶rt egyetlen mozdulattal!</p>

        <div class="instructions">
            <strong data-i18n="instructions.title">Hogyan jÃ¡tssz:</strong> 
            <span data-i18n="instructions.text">Kattints Ã©s hÃºzd az egeret...</span>
        </div>

        <!-- Gombok -->
        <button id="startBtn" onclick="startDrawing()" data-i18n="buttons.startDrawing">ğŸ¯ RajzolÃ¡s KezdÃ©se</button>
        <button id="clearBtn" onclick="clearCanvas()" disabled data-i18n="buttons.clear">ğŸ—‘ï¸ TÃ¶rlÃ©s</button>

        <!-- StatisztikÃ¡k -->
        <div class="stat-label" data-i18n="stats.currentScore">Jelenlegi PontszÃ¡m</div>
        <div class="stat-label" data-i18n="stats.bestScore">Legjobb EredmÃ©ny</div>

        <!-- NehÃ©zsÃ©g -->
        <strong data-i18n="difficulty.label">NehÃ©zsÃ©g:</strong>
        <button class="difficulty-btn active" data-i18n="difficulty.easy">KÃ¶nnyÅ± ğŸ˜Š</button>

        <!-- JÃ¡tÃ©kos nÃ©v -->
        <label for="playerName"><strong data-i18n="player.label">ğŸ‘¤ JÃ¡tÃ©kos nÃ©v:</strong></label>
        <input type="text" id="playerName" class="player-name-input" data-i18n="player.placeholder" maxlength="20">


        <div class="game-stats" id="gameStats">
            <div class="stat" id="currentScoreStat">
                <div class="stat-label">Jelenlegi PontszÃ¡m</div>
                <div class="stat-value" id="currentScore">0</div>
            </div>
            <div class="stat" id="bestScoreStat">
                <div class="stat-label">Legjobb EredmÃ©ny</div>
                <div class="stat-value" id="bestScore">0</div>
            </div>
            <div class="stat" id="gamesPlayedStat">
                <div class="stat-label">JÃ¡tÃ©kok SzÃ¡ma</div>
                <div class="stat-value" id="gamesPlayed">0</div>
            </div>
            <div class="stat" id="averageScoreStat">
                <div class="stat-label">Ãtlag PontszÃ¡m</div>
                <div class="stat-value" id="averageScore">0</div>
            </div>
        </div>

        <div class="canvas-container">
            <canvas id="gameCanvas" width="400" height="400"></canvas>
            <div class="canvas-overlay" id="canvasOverlay"></div>
            <div class="transformation-overlay" id="transformationOverlay">
                <div>âœ¨ VarÃ¡zslat tÃ¶rtÃ©nik... âœ¨</div>
                <div style="font-size: 0.8em; margin-top: 10px;" id="transformationText">A kÃ¶rÃ¶d Ã¡talakul...</div>
            </div>
        </div>

        <div class="controls">
            <button id="startBtn" onclick="startDrawing()">ğŸ¯ RajzolÃ¡s KezdÃ©se</button>
            <button id="clearBtn" onclick="clearCanvas()" disabled>ğŸ—‘ï¸ TÃ¶rlÃ©s</button>
            <button onclick="showInstructions()">â“ SegÃ­tsÃ©g</button>
            <button onclick="clearAllScores()">ğŸ—‘ï¸ Helyi EredmÃ©nyek TÃ¶rlÃ©se</button>
        </div>

        <div class="score-display" id="scoreDisplay">
            <h3 id="scoreTitle">EredmÃ©ny</h3>
            <div style="font-size: 2em; margin: 10px 0;">
                <span id="finalScore">0</span> / 100 pont
            </div>
            <div class="score-breakdown" id="scoreBreakdown"></div>
        </div>

        <!-- LEADERBOARD WITH TABS -->
        <div class="leaderboard">
            <h3>ğŸ† Ranglista</h3>
            <div class="leaderboard-tabs">
                <button class="tab-btn active" onclick="switchLeaderboard('local')" id="localTab">ğŸ“± Helyi</button>
                <button class="tab-btn" onclick="switchLeaderboard('global')" id="globalTab">ğŸŒ GlobÃ¡lis</button>
            </div>
            <div class="leaderboard-status" id="leaderboardStatus">
                ğŸ“± Helyi eredmÃ©nyek
            </div>
            <div id="leaderboardList">
                <div class="score-entry">
                    <span>MÃ©g nincsenek eredmÃ©nyek</span>
                </div>
            </div>
        </div>
    </div>

    <!-- LÃ¡togatÃ¡sszÃ¡mlÃ¡lÃ³ -->
    <div class="visitor-counter" id="visitorCounter" onclick="showVisitStats()">
        LÃ¡togatÃ¡sok: <span class="visitor-number" id="visitCount">0</span>
    </div>

    <!-- Scripts -->
    <script src="js/firebase/firebase-config.js" type="module"></script>
    <script src="js/utils/audioManager.js"></script>
    <script src="js/utils/effectsManager.js"></script>
    <script src="js/game/transformations.js"></script>
    <script src="js/game/circleAnalyzer.js"></script>
    <script src="js/game/gameEngine.js"></script>
    <script src="js/managers/scoreManager.js"></script>
    <script src="js/managers/visitorCounter.js"></script>
    <script src="js/managers/leaderboardManager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
